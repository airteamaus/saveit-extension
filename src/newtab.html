<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>new tab</title>
  <link rel="icon" type="image/png" href="icon.png">
  <link rel="stylesheet" href="newtab.css">
</head>
<body>
  <div id="background" class="background"></div>

  <!-- User menu (top-right corner) -->
  <div id="user-menu" class="user-menu hidden">
    <button id="user-avatar-btn" class="user-avatar-btn" title="Account">
      <span id="user-avatar" class="user-avatar"></span>
    </button>
    <div id="user-dropdown" class="user-dropdown hidden">
      <div id="theme-toggle-container"></div>
      <div class="user-info">
        <span id="user-email" class="user-email"></span>
      </div>
      <button id="refresh-background-btn" class="dropdown-item">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 4 23 10 17 10"></polyline>
          <polyline points="1 20 1 14 7 14"></polyline>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </svg>
        background
      </button>
      <button id="sign-out-btn" class="dropdown-item">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        sign out
      </button>
    </div>
  </div>

  <div class="minimal-container">
    <a href="newtab.html" class="minimal-logo">
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
      </svg>
      SaveIt
    </a>

    <div class="search-container">
      <form id="search-form" class="search-form">
        <span class="search-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </span>
        <input
          type="text"
          id="search-input"
          class="hero-search"
          placeholder="Search your saved pages..."
          autocomplete="off"
          autofocus
        >
      </form>
    </div>

    <div class="minimal-links">
      <button id="sign-in-btn" class="sign-in-btn hidden">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
          <polyline points="10 17 15 12 10 7"></polyline>
          <line x1="15" y1="12" x2="3" y2="12"></line>
        </svg>
        Sign In
      </button>
      <span id="stats-count" class="stats-count hidden"></span>
    </div>
  </div>

  <div id="favorites-row" class="favorites-row hidden">
    <!-- Populated by JS with up to 6 recent saves -->
  </div>

  <footer class="minimal-footer">
    <a href="database.html">Open database</a>
    <span id="version-indicator">v<span id="version-number">...</span></span>
    <span id="photo-credit" class="photo-credit hidden">
      Photo by <a id="photographer-link" href="#"></a> on <a href="https://unsplash.com/?utm_source=saveit&utm_medium=referral">Unsplash</a>
    </span>
  </footer>

  <!-- Minimal script dependencies -->
  <script src="polyfill-loader.js"></script>
  <script type="module" src="config-loader.js"></script>
  <script type="module" src="firebase-init-dashboard.js"></script>
  <script src="cache-manager.js"></script>
  <script src="api.js"></script>
  <script src="theme-manager.js"></script>
  <script type="module" src="newtab.js"></script>
</body>
</html>
